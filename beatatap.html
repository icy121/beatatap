<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="assets\js\lib\paper-full.js"></script>
    <script type="text/javascript" src="assets\js\lib\howler.js"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.13/howler.js"></script> -->

    <script type="text/paperscript" canvas="myCanvas">
/*      var path = new Path()
      path.strokeColor="black"
      var start = new Point(100,100);
      path.moveTo(start)
      path.lineTo(start+[100,100])
      path.lineTo(start+[200,0])
      path.lineTo(start+[300,100])

      var path1 = new Path();
      path1.strokeColor = 'black';
      path1.add(new Point(30, 75));
      path1.add(new Point(30, 25));
      path1.add(new Point(80, 25));
      path1.add(new Point(80, 75));
      path1.closed = true;

      var acircle= new Path.Circle(new Point(400,500),50)
      acircle.fillColor="white" */

/*      var start= new Point(0,0)
      for(var i=0; i<16;i++){
        for (var j = 0; j < 28; j++) {
            new Path.Circle(start+[j*50,i*50],10).fillColor="pink"
        }
      } */

      var keyData = {
      q: {sound: new Howl({  src: ['assets/sounds/bubbles.mp3']}),color: '#1abc9c'},
      w: {sound: new Howl({  src: ['assets/sounds/clay.mp3']}),color: '#2ecc71'},
      e: {sound: new Howl({  src: ['assets/sounds/confetti.mp3']}),color: '#3498db'},
      r: {sound: new Howl({  src: ['assets/sounds/corona.mp3']}),color: '#9b59b6'},
      t: {sound: new Howl({  src: ['assets/sounds/dotted-spiral.mp3']}),color: '#34495e'},
      y: {sound: new Howl({  src: ['assets/sounds/flash-1.mp3']}),color: '#16a085'},
      u: {sound: new Howl({  src: ['assets/sounds/flash-2.mp3']}),color: '#27ae60'},
      i: {sound: new Howl({  src: ['assets/sounds/flash-3.mp3']}),color: '#2980b9'},
      o: {sound: new Howl({  src: ['assets/sounds/glimmer.mp3']}),color: '#8e44ad'},
      p: {sound: new Howl({  src: ['assets/sounds/moon.mp3']}),color: '#2c3e50'},
      a: {sound: new Howl({  src: ['assets/sounds/pinwheel.mp3']}),color: '#f1c40f'},
      s: {sound: new Howl({  src: ['assets/sounds/piston-1.mp3']}),color: '#e67e22'},
      d: {sound: new Howl({  src: ['assets/sounds/piston-2.mp3']}),color: '#e74c3c'},
      f: {sound: new Howl({  src: ['assets/sounds/prism-1.mp3']}),color: '#95a5a6'},
      g: {sound: new Howl({  src: ['assets/sounds/prism-2.mp3']}),color: '#f39c12'},
      h: {sound: new Howl({  src: ['assets/sounds/prism-3.mp3']}),color: '#d35400'},
      j: {sound: new Howl({  src: ['assets/sounds/splits.mp3']}),color: '#1abc9c'},
      k: {sound: new Howl({  src: ['assets/sounds/squiggle.mp3']}),color: '#2ecc71'},
      l: {sound: new Howl({  src: ['assets/sounds/strike.mp3']}),color: '#3498db'},
      z: {sound: new Howl({  src: ['assets/sounds/suspension.mp3']}),color: '#9b59b6'},
      x: {sound: new Howl({  src: ['assets/sounds/timer.mp3']}),color: '#34495e'},
      c: {sound: new Howl({  src: ['assets/sounds/ufo.mp3']}),color: '#16a085'},
      v: {sound: new Howl({  src: ['assets/sounds/veil.mp3']}),color: '#27ae60'},
      b: {sound: new Howl({  src: ['assets/sounds/wipe.mp3']}),color: '#2980b9'},
      n: {sound: new Howl({  src: ['assets/sounds/zig-zag.mp3']}),color: '#8e44ad'},
      m: {sound: new Howl({  src: ['assets/sounds/moon.mp3']}),color: '#2c3e50'}}


      var circlesarr= []
      var maxPoint= new Point(view.size.width,view.size.height)
      function onKeyDown(event) {

        if (keyData[event.key])
        {
          keyData[event.key].sound.play()
          // console.log(event.key);
          var centerPoint= maxPoint * Point.random()
          circlesarr.push(new Path.Circle(centerPoint,Math.random()*300))
          circlesarr[circlesarr.length-1].fillColor=keyData[event.key].color
          // circlesarr[circlesarr.length-1].fillColor="rgb("+Math.random()*200+", "+Math.random()*200+", "+Math.random()*200+")"
        }
      }

      function onFrame(event) {
        for (var i = 0; i < circlesarr.length; i++) {
          if(circlesarr[i].area<5){
            circlesarr[i].remove()
            circlesarr.splice(i,1)
            console.log(circlesarr);
          }
          else {
            circlesarr[i].fillColor.hue += 1;
            circlesarr[i].scale(0.95)
          }
        }
      }

    </script>
    <link rel="stylesheet" href="assets\css\beatatap.css">
    <title>BEAT A TAP!!</title>
  </head>
  <body>
    <canvas id="myCanvas" resize>
      <h1>Beat A Tap!!!</h1>
    </canvas>
  </body>
</html>
